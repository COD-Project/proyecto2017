{% extends 'layout/layout.twig' %}

{% block app_body %}
  {% if admin %}
    {% include 'user/roles.twig' with {'user': user, 'roles': roles}
    only %}
  {% endif %}
  <div class="container" style="margin-top: 45px;">
    <div id="user_edit_response"></div>

    <ul class="nav nav nav-pills nav-fill">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" href="#show" role="tab">Usuario</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#edit" role="tab">Editar</a>
      </li>
    </ul>

    <!-- Tab panels -->
    <div class="tab-content">

      <!--Panel 1-->
      <div class="tab-pane fade in show active" id="show" role="tabpanel">
        <!--Card-->
        <div class="card card-cascade wider reverse my-4">

          <!--Card content-->
          <div class="card-body text-center">
            <!--Title-->
            <h4 class="card-title">
              <strong>{{user.fullName}}</strong>
            </h4>
            <h5 class="indigo-text">
              <strong>{{user.name}}</strong>
            </h5>
            <br>
            <div class="row">
              <div class="col-lg-4 col-xs-12">
                <p class="mb-0">
                  <strong>Nombre de usuario</strong>
                </p>
                <p>{{user.name}}</p>
              </div>
              <div class="col-lg-4 col-xs-12">
                <p class="mb-0">
                  <strong>Email</strong>
                </p>
                <p>{{user.email}}</p>
              </div>
              <div class="col-lg-4 col-xs-12">
                <p class="mb-0">
                  <strong>Fecha de ingreso</strong>
                </p>
                <p>{{user.createdAt | date('d-m-Y')}}
                </div>
              </div>
              {% if admin %}
                <div class="mt-5 mb-4">
                  <button type="button" class="btn btn-dark light-blue darken-3" data-toggle="modal" data-target="#user_roles_modal">Roles</button>
                </div>
              {% endif %}
              <br>
              <img style="max-width: 25px;" alt="Icono" src="web/assets/images/icon.png">

            </div>
            <!--/.Card content-->

          </div>
          <!--/.Card-->
        </div>
        <!--/.Panel 1-->

        <!--Panel 2-->
        <div class="tab-pane fade" id="edit" role="tabpanel">
          <!--Card-->
          <div class="card card-cascade wider reverse my-4">

            <!--Card content-->
            <div class="card-body text-center">
              <!--Title-->
              <h4 class="card-title">
                <strong>{{user.fullName}}</strong>
              </h4>
              <h5 class="indigo-text">
                <strong>{{user.name}}</strong>
              </h5>
              <br>
              <form id="user_edit_form" action="users/edit/{{user.id}}" method="post">
                <div class="form-row">
                  <div class="col-lg-4 col-xs-6">
                    <p class="mb-0">
                      <strong>Nombre</strong>
                    </p>
                    <div class="md-form mb-0 card-style-input">
                      <input class="form-control text-center" type="text" name="firstName" value="{{user.firstName}}" placeholder="Nombre">
                    </div>
                  </div>
                  <div class="col-lg-4 col-xs-6">
                    <p class="mb-0">
                      <strong>Apellido</strong>
                    </p>
                    <div class="md-form mb-0 card-style-input">
                      <input class="form-control text-center" type="text" name="lastName" value="{{user.lastName}}" placeholder="Apellido">
                    </div>
                  </div>
                  <div class="col-lg-4 col-xs-6">
                    <p class="mb-0">
                      <strong>Nombre de usuario</strong>
                    </p>
                    <div class="md-form mb-0 card-style-input">
                      <input class="form-control text-center" type="text" name="username" value="{{user.name}}" placeholder="Nombre de usuario">
                    </div>
                  </div>
                  <div class="col-lg-4 col-xs-6">
                    <p class="mb-0">
                      <strong>Email</strong>
                    </p>
                    <div class="md-form mb-0 card-style-input">
                      <input class="form-control text-center" type="email" name="email" value="{{user.email}}" placeholder="Email">
                    </div>
                  </div>
                  <div class="col-lg-4 col-xs-6">
                    <p class="mb-0">
                      <strong>Contraseña</strong>
                    </p>
                    <div class="md-form mb-0 card-style-input">
                      <input class="form-control text-center" type="password" name="password" value="" placeholder="Contraseña">
                    </div>
                  </div>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-indigo" title="Editar Usuario">
                    Editar usuario
                  </button>
                </div>
              </form>
              <br>
            </div>
            <!--/.Card content-->

          </div>
          <!--/.Card-->
        </div>
        <!--/.Panel 2-->
      </div>
    </div>
  {% endblock %}

  {% block scripts %}
    <script src="web/assets/javascripts/components/user/edit.js"></script>
  {% endblock %}
